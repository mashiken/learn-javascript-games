<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>お絵描きアプリ</title>
        <style>
        body {
            margin: 0;
        }
            #canvas {
                background-color: #aaa;
            }
        </style>
    </head>
    <canvas id="canvas"></canvas>
    <body>
    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var mousex, mousey;
        var state = false;

        canvas.width = window.innerWidth - 2;
        canvas.height = window.innerHeight - 2;

        canvas.addEventListener('mousemove', mouseMove)
        canvas.addEventListener('mousedown', mouseDown)
        canvas.addEventListener('mouseup', mouseUp)

        function mouseDown(e) {
            mousex = e.clientX
            mousey = e.clientY
            state = true;
        }

        function mouseUp() {
            state = false;
        }

        function mouseMove(e) {
            if(!state) return;
            ctx.beginPath();
            ctx.moveTo(mousex,mousey);
            ctx.lineTo(e.clientX, e.clientY);
            ctx.stroke();

            mousex = e.clientX
            mousey = e.clientY
        }
    </script>
    </body>
</html>